:tocdepth: 3

.. _guppy_pca:

===
pca
===

`pca` performs edge principal components.

::

  usage: pca [options] placefiles

Options
=======

--out-dir  Specify the directory to write files to.
--prefix  Specify a string to be prepended to filenames. Required.
--pp  Use posterior probability for the weight.
--unweighted  Treat every placement as a point mass concentrated on the highest-weight placement.
--transform  A transform to apply to the read multiplicities before calculating. Options are 'log' and 'unit'. Default is no transform.
-c  Reference package path.
--min-fat  The minimum branch length for fattened edges (to increase their visibility). To turn off set to 0. Default: 0.01
--total-width  Set the total pixel width for all of the branches of the tree. Default: 300
--width-factor  Override total-width by directly setting the number of pixels per unit of thing displayed.
--gray-black  Use gray/black in place of red/blue to signify the sign of the coefficient for that edge.
--min-width  Specify the minimum width for a branch to be colored and thickened. Default is 1.
--write-n  The number of principal coordinates to write out (default is 5).
--scale  Scale variances to one before performing principal components.
--symmv  Use a complete eigendecomposition rather than power iteration.

Details
=======

Perform edge principal components analysis ("edge PCA").
Edge PCA takes the special structure of phylogenetic placement data into account.
Consequently, it is possible to visualize_ the principal component eigenvectors, and it can find consistent differences between samples which may not be so far apart in the tree.

Running this command produces the following files for a run with out prefix set to ``out``:

out.rot
  The top eigenvalues (first column) then their corresponding eigenvectors.

out.trans
  The samples projected into principal coordinate space.

out.xml
  The eigenvectors visualized as fattened and colored trees.

.. _visualize: http://matsen.fhcrc.org/pplacer/demo/pca.html
